async function fetchBicycleRoute(start, end) {
    const url = 'https://apis-navi.kakaomobility.com/v1/directions';
    const headers = {
        'Authorization': `KakaoAK ${KAKAO_REST_KEY}`,
        // CHANGE 1: Set the correct Content-Type header for a JSON payload
        'Content-Type': 'application/json'
    };
    // CHANGE 2: Create a JSON object for the request body
    const body = {
        origin: {
            x: start.getLng(),
            y: start.getLat()
        },
        destination: {
            x: end.getLng(),
            y: end.getLat()
        },
        // 'bicycle' is not a valid car_fuel option; it should be used with the 'bicycle_path' query parameter
        // car_fuel parameter is not supported for v1/directions API. It's for the old T-map API
        // For bicycle routes, you need to specify the 'priority' as 'BICYCLE' in the request body
        priority: 'BICYCLE'
    };

    const response = await fetch(url, {
        method: 'POST',
        headers: headers,
        // CHANGE 3: Stringify the body object to send it as JSON
        body: JSON.stringify(body)
    });
    if (!response.ok) {
        const errorData = await response.json();
        throw new Error(`API error: ${errorData.msg || 'Unknown error'}`);
    }
    return response.json();
}
